<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <!-- A) Pre-paint: decide dark/light BEFORE anything renders -->
  <script>
    (function () {
      const saved = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      const dark = saved ? saved === 'dark' : prefersDark;
      if (dark) document.documentElement.classList.add('dark');
      document.documentElement.setAttribute('data-theme', dark ? 'dark' : 'light');
    })();
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gasith Sanduwara — Portfolio</title>

<!-- Tailwind config (must use tailwind.config, not window.tailwind) -->
<script>
  tailwind.config = {
    darkMode: 'class',
    theme: {
      extend: {
        colors: {
          page: {
            light: '#f9fafb',
            dark: '#0b0e14'
          }
        },
        keyframes: {
          fadeUp: { '0%': { opacity: 0, transform: 'translateY(14px)' }, '100%': { opacity: 1, transform: 'translateY(0)' } },
          floaty: { '0%,100%': { transform: 'translateY(0)' }, '50%': { transform: 'translateY(-8px)' } },
          shimmer: { '0%': { backgroundPosition: '-200% 0' }, '100%': { backgroundPosition: '200% 0' } }
        },
        animation: {
          fadeUp: 'fadeUp .7s ease-out both',
          floaty: 'floaty 6s ease-in-out infinite',
          shimmer: 'shimmer 2s linear infinite'
        },
        boxShadow: {
          soft: '0 10px 30px -12px rgba(0,0,0,.25)'
        }
      }
    }
  };
</script>
<script src="https://cdn.tailwindcss.com"></script>


  <!-- Favicon (optional) -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚙️</text></svg>">

  <!-- Minimal utilities for parallax, masks, and reveals -->
  <style>
    /* Background grid subtlety tuned for light/dark */
    .bg-grid {
      background:
        linear-gradient(to right, rgba(0,0,0,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(0,0,0,.06) 1px, transparent 1px);
      background-size: 24px 24px;
    }
    .dark .bg-grid {
      background:
        linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
        linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
    }

    /* Parallax container; falls back gracefully on mobile & reduced motion */
    .parallax {
      perspective: 1000px;
      transform-style: preserve-3d;
      will-change: transform;
    }
    .parallax-item {
      transform: translateZ(0);
      will-change: transform;
    }

    /* Soft edge blend (radial mask on the portrait) */
    .soft-mask {
      -webkit-mask-image: radial-gradient(60% 60% at 70% 50%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
      mask-image: radial-gradient(60% 60% at 70% 50%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
      -webkit-mask-repeat: no-repeat; mask-repeat: no-repeat;
      -webkit-mask-size: cover; mask-size: cover;
    }
    /* Extra bottom fade to blend into hero background */
    .mask-bottom-fade {
      -webkit-mask-image:
        linear-gradient(to top, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%),
        radial-gradient(60% 60% at 70% 50%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
      -webkit-mask-composite: source-in; /* 2-layer combine */
      mask-image:
        linear-gradient(to top, rgba(0,0,0,1) 85%, rgba(0,0,0,0) 100%),
        radial-gradient(60% 60% at 70% 50%, rgba(0,0,0,1) 60%, rgba(0,0,0,0) 100%);
      mask-composite: intersect;
    }

    /* Reveal-on-scroll (for cards) */
    .reveal {
      opacity: 0;
      transform: translateY(16px);
      transition: opacity .6s ease, transform .6s ease;
    }
    .reveal.show {
      opacity: 1;
      transform: translateY(0);
    }

    /* Mobile navigation overlay */
    .mobile-nav-enter {
      transform: translateY(-8px);
      opacity: 0;
    }
    .mobile-nav-enter.active {
      transform: translateY(0);
      opacity: 1;
      transition: transform .2s ease, opacity .2s ease;
    }

    @media (max-width: 640px) {
      /* Disable heavy parallax on small screens */
      .parallax-item { transform: none !important; }
    }
    @media (prefers-reduced-motion: reduce) {
      .parallax-item { transform: none !important; }
      .reveal, .reveal.show { transition: none !important; }
      .animate-floaty { animation: none !important; }
    }
  </style>
</head>

<body class="min-h-screen bg-gray-50 text-gray-800 dark:bg-[#0b0e14] dark:text-gray-100 antialiased selection:bg-indigo-200/60 selection:text-indigo-900 dark:selection:bg-indigo-400/30 dark:selection:text-indigo-50">

  <div aria-hidden="true" class="pointer-events-none fixed inset-0 -z-10">
    <!-- soft radial glow -->
    <div class="absolute inset-0 bg-[radial-gradient(60%_40%_at_50%_10%,rgba(99,102,241,0.12),transparent_60%)] dark:bg-[radial-gradient(60%_40%_at_50%_10%,rgba(99,102,241,0.18),transparent_60%)]"></div>
    <!-- ultra-light grid -->
    <div class="absolute inset-0 bg-grid opacity-40"></div>
  </div>

  <!-- NAVBAR -->
  <header class="sticky top-0 z-40 backdrop-blur supports-[backdrop-filter]:bg-white/60 bg-white/80 dark:bg-white/0 border-b border-black/5 dark:border-white/10">
    <div class="max-w-6xl mx-auto px-4">
      <nav class="flex items-center justify-between h-16">
        <a href="#" class="font-semibold tracking-tight text-lg">
          <span class="text-indigo-600 dark:text-indigo-400">Gasith</span> Sanduwara
        </a>

        <!-- Desktop links -->
        <div class="hidden sm:flex items-center gap-6 text-sm">
          <a href="#about" class="hover:text-indigo-600 dark:hover:text-indigo-400">About</a>
          <a href="#projects" class="hover:text-indigo-600 dark:hover:text-indigo-400">Projects</a>
          <a href="#contact" class="hover:text-indigo-600 dark:hover:text-indigo-400">Contact</a>
          <a href="#blog" class="hover:text-indigo-600 dark:hover:text-indigo-400">Blog</a>
        </div>

        <!-- Mobile hamburger -->
        <button id="menuBtn" class="sm:hidden inline-flex items-center justify-center rounded-lg p-2 hover:bg-black/5 dark:hover:bg-white/10" aria-label="Open menu">
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" viewBox="0 0 24 24" fill="none" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16"/></svg>
        </button>
      </nav>

      <!-- Mobile menu -->
      <div id="mobileNav" class="sm:hidden hidden mobile-nav-enter">
        <div class="mt-2 grid gap-2 pb-3">
          <a href="#about" class="px-3 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10">About</a>
          <a href="#projects" class="px-3 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10">Projects</a>
          <a href="#contact" class="px-3 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10">Contact</a>
          <a href="#blog" class="px-3 py-2 rounded-lg hover:bg-black/5 dark:hover:bg-white/10">Blog</a>
          <button id="themeToggleSm" class="justify-self-start rounded-lg px-3 py-2 border border-black/10 dark:border-white/10">Toggle Theme</button>
        </div>
      </div>
    </div>
  </header>

  <!-- HERO -->
  <section class="relative">
    <div class="relative grid md:grid-cols-2 items-center min-h-[70vh] md:min-h-[86vh] bg-[#0b1120] text-white overflow-hidden">
      <!-- Left Content -->
      <div class="px-6 sm:px-10 md:px-12 lg:px-16 py-12 md:py-0 z-10">
        <h1 class="text-4xl sm:text-5xl font-bold leading-tight">
          Computing <br />
          Undergraduate • <span class="text-purple-400">Information Systems & Networking</span>
        </h1>
        <p class="mt-5 text-gray-300 max-w-xl">
          Student, Photographer and curious thinker who would love to view
          the world on a broader view.
        </p>

        <div class="mt-8 flex flex-wrap gap-3">
          <a href="#projects" class="px-5 py-3 rounded-lg bg-purple-500 hover:bg-purple-600 font-medium">View Projects</a>
          <a href="#contact" class="px-5 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 font-medium">Contact Me</a>
          <a href="/cv.pdf" class="px-5 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 font-medium">Download CV</a>
        </div>

        <!-- subtle shimmer underline -->
        <div class="mt-8 h-[3px] w-40 rounded-full bg-gradient-to-r from-transparent via-white/60 to-transparent bg-[length:200%_100%] animate-shimmer"></div>
      </div>

      <!-- Right Image (Parallax + blended edges) -->
      <div class="relative parallax h-[46vh] md:h-full">
        <div class="absolute inset-0">
          <!-- backdrop glow -->
          <div class="absolute -right-24 top-10 h-80 w-80 md:h-[28rem] md:w-[28rem] rounded-full blur-3xl opacity-40 bg-purple-500/40 animate-floaty"></div>
        </div>

        <div id="heroImg" class="parallax-item absolute right-0 top-0 h-full w-full md:w-[52vw]">
          <img
            src="PXL_20250912_065158091 (1)~2.jpg"
            alt="Profile"
            loading="eager"
            class="h-full w-full object-cover object-[60%_40%] soft-mask mask-bottom-fade mix-blend-normal"
            style="filter: saturate(1.05) contrast(1.05);"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- ABOUT -->
  <section id="about" class="py-16">
    <div class="max-w-6xl mx-auto px-4">
      <h2 class="text-2xl font-semibold">About Me</h2>
      <p class="mt-4 text-gray-600 dark:text-gray-300 max-w-3xl">
        I’m an Information Systems undergraduate with hands-on projects in web development, statistics (R), and embedded systems.
        I enjoy shipping real things: analytics dashboards, process-improvement tools, and robots that actually move.
      </p>
      <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-4 gap-4">
        <div class="rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 reveal">
          <div class="text-sm font-medium">Core Skills</div>
          <div class="mt-2 text-sm text-gray-600 dark:text-gray-300">C#, PHP, JavaScript, SQL, R, Arduino/ESP32</div>
        </div>
        <div class="rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 reveal">
          <div class="text-sm font-medium">Tools</div>
          <div class="mt-2 text-sm text-gray-600 dark:text-gray-300">Git/GitHub, VS Code, Tailwind, PHPMailer, Excel</div>
        </div>
        <div class="rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 reveal">
          <div class="text-sm font-medium">Interests</div>
          <div class="mt-2 text-sm text-gray-600 dark:text-gray-300">Information Systems, Network Engineering, System Administration</div>
        </div>
        <div class="rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 reveal">
          <div class="text-sm font-medium">Hobbies</div>
          <div class="mt-2 text-sm text-gray-600 dark:text-gray-300">Photography, Astronomy, Paleontology, Aviation</div>
        </div>
      </div>
    </div>
  </section>

  <!-- PROJECTS -->
  <section id="projects" class="py-16">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-end justify-between">
        <h2 class="text-2xl font-semibold">Projects</h2>
        <a href="https://github.com/" target="_blank" class="text-sm text-indigo-600 dark:text-indigo-400 hover:underline">See all on GitHub →</a>
      </div>

      <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Card 1 -->
        <article class="group rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 transition hover:shadow-sm reveal">
          <div class="relative overflow-hidden rounded-xl">
            <img src="Solar-Panel.jpg" alt="Solar Power Analysis"
                 loading="lazy"
                 class="aspect-video w-full object-cover transition-transform duration-500 group-hover:scale-[1.03]" />
            <!-- subtle overlay -->
            <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/15 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
          </div>
          <h3 class="mt-4 font-semibold">Solar Power Analysis (R)</h3>
          <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
            Statistical inference on adoption factors; 5 interpretations with charts and a clean report.
          </p>
          <div class="mt-3 text-xs text-gray-500">R, ggplot2, dplyr</div>
          <a href="https://github.com/ComputerScienceSJP/SDI-PROJECT-group-15" class="mt-3 inline-block text-indigo-600 dark:text-indigo-400 text-sm hover:underline">Repo / Report →</a>
        </article>

        <!-- Card 2 -->
        <article class="group rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 transition hover:shadow-sm reveal">
          <div class="relative overflow-hidden rounded-xl">
            <img src="Screenshot-(74).png" alt="Network Expansion"
                 loading="lazy"
                 class="aspect-video w-full object-cover transition-transform duration-500 group-hover:scale-[1.03]" />
            <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/15 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
          </div>
          <h3 class="mt-4 font-semibold">Network Expansion for Meraki Solutions</h3>
          <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
            Upgraded network package with sophisticated devices which capable of further expansion
          </p>
          <div class="mt-3 text-xs text-gray-500">Cisco Packet Tracer, Windows Server Management</div>
          <a href="#" class="mt-3 inline-block text-indigo-600 dark:text-indigo-400 text-sm hover:underline">Project Report →</a>
        </article>

        <!-- Card 3 -->
        <article class="group rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 transition hover:shadow-sm reveal">
          <div class="aspect-video rounded-xl bg-gradient-to-br from-fuchsia-200/60 to-fuchsia-50/50 dark:from-fuchsia-500/10 dark:to-white/5 animate-floaty"></div>
          <h3 class="mt-4 font-semibold">GPV Kaizen App</h3>
          <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
            Idea submission, manager ranking, email notifications, and dashboards.
          </p>
          <div class="mt-3 text-xs text-gray-500">PHP, MySQL, PHPMailer</div>
          <a href="#" class="mt-3 inline-block text-indigo-600 dark:text-indigo-400 text-sm hover:underline">Case Study →</a>
        </article>
      </div>
    </div>
  </section>

  <!-- BLOG -->
  <section id="blog" class="py-16">
    <div class="max-w-6xl mx-auto px-4">
      <div class="flex items-end justify-between">
        <h2 class="text-2xl font-semibold">Blog</h2>
        <a href="blog.html" class="text-sm text-indigo-600 dark:text-indigo-400 hover:underline">View all →</a>
      </div>

      <p class="mt-3 text-gray-600 dark:text-gray-300 max-w-2xl">
        Things I would like to share with others....
      </p>

      <div class="mt-8 grid sm:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Post 1 -->
        <article class="group rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 hover:shadow-sm transition reveal">
          <a href="blog.html" class="block">
            <div class="relative overflow-hidden rounded-xl">
              <img src="Aerospatiale-BAC_Concorde_101,_Air_France_AN0702255.jpg" alt="Concorde crash analysis"
                   loading="lazy"
                   class="aspect-[16/9] w-full object-cover bg-gray-100 dark:bg-[#121826] transition-transform duration-500 group-hover:scale-[1.03]" />
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
            </div>
            <h3 class="mt-4 font-semibold group-hover:underline">
              Crash analyzis of Air France flight 4790
            </h3>
            <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
              Comprehensive crash report into the first concord crash ever
            </p>
          </a>
          <div class="mt-3 flex items-center justify-between text-xs text-gray-500">
            <span>Sep 2025 • 5 min read</span>
          </div>
        </article>

        <!-- Post 2 -->
        <article class="group rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 hover:shadow-sm transition reveal">
          <a href="smbh.html" class="block">
            <div class="relative overflow-hidden rounded-xl">
              <img src="m87.jpg" alt="SMBH" class="aspect-[16/9] w-full rounded-xl object-cover bg-gray-100 dark:bg-[#121826]"
                   loading="lazy"
                   class="aspect-[16/9] w-full object-cover bg-gray-100 dark:bg-[#121826] transition-transform duration-500 group-hover:scale-[1.03]" />
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
            </div>
            <h3 class="mt-4 font-semibold group-hover:underline">
              Super Massive Black Holes 
            </h3>
            <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
              Descriptive study of the most mysterious object in the Universe
            </p>
          </a>
          <div class="mt-3 flex items-center justify-between text-xs text-gray-500">
            <span>Aug 2025 • 7 min read</span>
          </div>
        </article>

        <!-- Post 3 -->
        <article class="group rounded-2xl border border-black/10 dark:border-white/10 bg-white/70 dark:bg-white/5 backdrop-blur p-5 hover:shadow-sm transition reveal">
          <a href="posts/kaizen-app-emailing.html" class="block">
            <div class="relative overflow-hidden rounded-xl">
              <img src="assets/images/blog-kaizen.jpg" alt="Kaizen app emailing"
                   loading="lazy"
                   class="aspect-[16/9] w-full object-cover bg-gray-100 dark:bg-[#121826] transition-transform duration-500 group-hover:scale-[1.03]" />
              <div class="pointer-events-none absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition"></div>
            </div>
            <h3 class="mt-4 font-semibold group-hover:underline">
              Shipping Email Notifications in a PHP/MySQL Kaizen App
            </h3>
            <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
              Schema decisions, PHPMailer pitfalls, and reliability checks.
            </p>
          </a>
          <div class="mt-3 flex items-center justify-between text-xs text-gray-500">
            <span>Jul 2025 • 6 min read</span>
            <div class="flex gap-2">
              <span class="rounded-lg px-2 py-1 border border-black/10 dark:border-white/10">PHP</span>
              <span class="rounded-lg px-2 py-1 border border-black/10 dark:border-white/10">Backend</span>
            </div>
          </div>
        </article>
      </div>

      <!-- (Optional) Simple pager -->
      <div class="mt-8 flex items-center justify-center gap-2">
        <a href="#" class="rounded-lg px-3 py-1.5 border border-black/10 dark:border-white/10 hover:border-indigo-300">← Newer</a>
        <a href="#" class="rounded-lg px-3 py-1.5 border border-black/10 dark:border-white/10 hover:border-indigo-300">Older →</a>
      </div>
    </div>
  </section>

  <!-- CONTACT -->
  <section id="contact" class="py-16">
    <div class="max-w-3xl mx-auto px-4">
      <h2 class="text-2xl font-semibold">Contact</h2>
      <p class="mt-3 text-gray-600 dark:text-gray-300">I’m open to internships, project collaborations, and part-time roles.</p>

      <form action="https://formspree.io/f/your-id" method="POST" class="mt-8 grid gap-4">
        <input name="name" required placeholder="Your name" class="rounded-xl border border-black/10 dark:border-white/10 bg-white/80 dark:bg-white/5 backdrop-blur px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-300/60" />
        <input name="email" type="email" required placeholder="Your email" class="rounded-xl border border-black/10 dark:border-white/10 bg-white/80 dark:bg-white/5 backdrop-blur px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-300/60" />
        <textarea name="message" required rows="5" placeholder="Say hello…" class="rounded-xl border border-black/10 dark:border-white/10 bg-white/80 dark:bg-white/5 backdrop-blur px-4 py-3 outline-none focus:ring-2 focus:ring-indigo-300/60"></textarea>
        <button class="justify-self-start rounded-xl px-5 py-3 bg-indigo-600 text-white hover:bg-indigo-700 active:scale-[.98] transition">Send Message</button>
      </form>

      <div class="mt-6 text-sm text-gray-600 dark:text-gray-400">
        Or email me: <a class="text-indigo-600 dark:text-indigo-400 hover:underline" href="mailto:gasithac2003@gmail.com">gasithac2003@gmail.com</a>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer class="py-10 border-t border-black/5 dark:border-white/10">
    <div class="max-w-6xl mx-auto px-4 flex flex-col sm:flex-row items-center justify-between gap-3 text-sm text-gray-500">
      <div>© <span id="year"></span> Gasith Sanduwara</div>
      <div class="flex items-center gap-4">
        <a href="https://github.com/Gaxit03" class="hover:text-indigo-600 dark:hover:text-indigo-400">GitHub</a>
        <a href="https://www.linkedin.com/in/gasith-sanduwara-396119280" class="hover:text-indigo-600 dark:hover:text-indigo-400">LinkedIn</a>
        <a href="#" class="hover:text-indigo-600 dark:hover:text-indigo-400">Resume</a>
      </div>
    </div>
  </footer>

  <!-- Scripts: year, theme toggle, mobile menu, reveals, parallax -->
  <script>
    // Footer year
    const yearEl = document.getElementById('year');
    if (yearEl) yearEl.textContent = new Date().getFullYear();

    // Theme toggle
    function toggleTheme() {
      const isDark = document.documentElement.classList.toggle('dark');
      localStorage.setItem('theme', isDark ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', isDark ? 'dark' : 'light');
    }
    const btn = document.getElementById('themeToggle');
    const btnSm = document.getElementById('themeToggleSm');
    if (btn) btn.addEventListener('click', toggleTheme);
    if (btnSm) btnSm.addEventListener('click', toggleTheme);

    // Mobile nav
    const menuBtn = document.getElementById('menuBtn');
    const mobileNav = document.getElementById('mobileNav');
    if (menuBtn && mobileNav) {
      menuBtn.addEventListener('click', () => {
        const hidden = mobileNav.classList.contains('hidden');
        mobileNav.classList.toggle('hidden', !hidden);
        setTimeout(() => mobileNav.classList.toggle('active', hidden), 10);
      });
    }

    // Reveal on scroll (Projects + Blog + About cards)
    const revealEls = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries) => {
      entries.forEach(e => {
        if (e.isIntersecting) {
          e.target.classList.add('show');
          // optional: unobserve for performance
          io.unobserve(e.target);
        }
      });
    }, { threshold: 0.15 });
    revealEls.forEach(el => io.observe(el));

    // Parallax effect for hero image (desktop only / respects reduced motion)
    const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
    const heroImg = document.getElementById('heroImg');
    function parallax() {
      if (!heroImg) return;
      if (reduceMotion || window.innerWidth < 641) {
        heroImg.style.transform = 'none';
        return;
      }
      const rect = heroImg.getBoundingClientRect();
      const center = window.innerHeight / 2;
      const delta = (rect.top + rect.height / 2) - center;
      const translate = Math.max(Math.min(-delta * 0.06, 40), -40); // clamp
      heroImg.style.transform = `translateY(${translate}px)`;
    }
    if (heroImg) {
      parallax();
      window.addEventListener('scroll', parallax, { passive: true });
      window.addEventListener('resize', parallax);
    }
  </script>
</body>
</html>

